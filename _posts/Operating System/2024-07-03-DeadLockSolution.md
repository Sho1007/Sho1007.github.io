---
title: "교착 상태 해결 방법"
category:
- OperatingSystem
tag:
- OperatingSystem
- HonGong
toc: true
toc_sticky: true
date: 2024-07-03
last-modified-at: 2024-07-03
---

# 교착 상태 해결 방법
* 예방
* 회피
* 검출 후 회복
* 무시 (가끔)
## 교착 상태 예방
* 애초에 교착 상태가 발생하지 않도록
* 교착 상태 발생 조건 (상호 배제, 점유와 대기, 비선점, 원형 대기) 중 하나를 없애버리기
### 상호 배제를 없애면?
모든 자원을 공유 가능하게 만든다? 현실적으로 `불가능`
### 점유와 대기를 없애면?
특정 프로세스에게 자원을 모두 할당하거나, 아예 할당하지 않는 방식으로 배분
> 자원 활용률이 낮아질 수 있다.
### 비선점을 없애면?
선점이 가능한 자원 (ex. CPU)에 한해 효과적
> 모든 자원이 선점 가능한 것은 아니다.
### 원형 대기를 없애면?
자원에 우선 순위를 매기고, 우선 순위가 높은 순으로 자원을 점유
> 모든 자원에 우선 순위를 매기기는 어렵고, 우선 순위에 따라 자원의 활용률이 달라진다.

## 교착 상태 회피
* 교착 상태를 **무분별한 자원 할당으로 인해 발생**했다고 간주
* 교착 상태가 발생하지 않을 만큼 **조심 조심 할당**하기
* 배분할 수 있는 자원의 양을 고려하여, 교착 상태가 발생하지 않을 만큼만 자원 배분
1. `안전 순서열` : 교착 상태 없이 안전하게 모든 프로세스들에게 자원을 할당할 수 있는 순서
2. `안전 상태` : 교착 상태 없이 모든 프로세스가 자원을 할당 받고 종료될 수 있는 상태
3. `불안전 상태` : 교착 상태가 발생할 수도 있는 상태
> 안전 상태에서 안전 상태로 움직이는 경우에만 자원을 할당하는 방식   
항시 안전 상태를 유지하도록 자원을 할당하는 방식

## 교착 상태 검출 후 회복
* 교착 상태의 발생을 인정하고 사후에 조치하는 방식
* 프로세스가 자원을 요구하면 일단 할당, 교착 상태가 검출되면 회복
* 선점을 통한 회복 : 교착 상태가 해결될 때까지 한 프로세스씩 자원을 몰아주는 방식
* 프로세스 강제 종료를 통한 회복
    * 교착 상태에 놓인 프로세스를 모두 강제 종료 (작업 내역을 잃을 위험)
    * 교착 상태가 해결될 때까지 한 프로세스씩 강제 종료 (오버헤드)

## 교착 상태 무시
### 타조 알고리즘   
아주 희박하게 발생하는 교착 상태에 대해서는 무시하는 것이 엔지니어 입장에서 효율적일 때도 있다.